{"version":3,"file":"chartjs-plugin-a11y.js","sources":["../src/state.js","../src/handlers.js","../src/setup.js","../src/listeners.js","../src/index.js"],"sourcesContent":["export default {\n  currentState: {\n    datasetIndex: 0,\n    index: 0,\n  },\n\n  get() {\n    return this.currentState;\n  },\n\n  set(value) {\n    this.currentState = value;\n  },\n\n  compare(newState) {\n    const datasetIndexMatch =\n      this.currentState.datasetIndex === newState.datasetIndex;\n    const indexMatch = this.currentState.index === newState.index;\n\n    return datasetIndexMatch && indexMatch;\n  },\n};\n","import state from './state';\n\n/**\n * @description updates the a11y screen reader element with labelled active points\n * @param {Object} chart\n */\nexport const updateA11yLabel = (chart) => {\n  const {datasetIndex, index} = state.get();\n  const legendLabel = chart.config.data.datasets[datasetIndex].label;\n  const currentLabel = chart.config.data.labels[index];\n  const currentValue = chart.config.data.datasets[datasetIndex].data[index];\n\n  document.getElementById(\n    'chartjs-a11y-label'\n  ).textContent = `${currentLabel}, ${legendLabel},  ${currentValue}`;\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex\n * @param {Number} index\n */\nexport const updateActivePoint = (chart, datasetIndex, index) => {\n  chart.setActiveElements([{datasetIndex, index}]);\n  chart.tooltip.setActiveElements([{datasetIndex, index}]);\n  state.set({datasetIndex, index});\n};\n\n/**\n * @description updates state with current activePoint, or set default state if no activePoint exists\n * @param {Object} activePoint\n */\nexport const handleActivePoint = (activePoint) => {\n  if (activePoint && !state.get()) {\n    state.set(activePoint);\n  } else if (activePoint && !state.compare(activePoint)) {\n    state.set(activePoint);\n  }\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex to start from\n * @returns {Number} next visible datasetIndex\n */\nexport const findNextVisibleDataset = (chart, datasetIndex) => {\n  if (datasetIndex === chart.config.data.datasets.length - 1) {\n    datasetIndex = 0;\n  } else {\n    datasetIndex += 1;\n  }\n\n  if (chart.isDatasetVisible(datasetIndex)) {\n    return datasetIndex;\n  }\n\n  return findNextVisibleDataset(chart, datasetIndex);\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex to start from\n * @returns {Number} prev visible datasetIndex\n */\nexport const findPrevVisibleDataset = (chart, datasetIndex) => {\n  if (datasetIndex === 0) {\n    datasetIndex = chart.config.data.datasets.length - 1;\n  } else {\n    datasetIndex -= 1;\n  }\n\n  if (chart.isDatasetVisible(datasetIndex)) {\n    return datasetIndex;\n  }\n\n  return findPrevVisibleDataset(chart, datasetIndex);\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex\n * @param {Number} index\n * @param {Number} currentDataset\n * @param {Number} datasetLength\n */\nexport const handleRightKey = (\n  chart,\n  datasetIndex,\n  index,\n  currentDataset,\n  datasetLength\n) => {\n  if (!chart.isDatasetVisible(datasetIndex)) {\n    const newDatasetIndex = findNextVisibleDataset(chart, datasetIndex, index);\n\n    updateActivePoint(chart, newDatasetIndex, 0);\n  } else if (\n    index === currentDataset.data.length - 1 &&\n    datasetIndex === datasetLength - 1\n  ) {\n    updateActivePoint(chart, 0, 0);\n  } else if (\n    index === currentDataset.data.length - 1 &&\n    !chart.isDatasetVisible(datasetIndex + 1)\n  ) {\n    const newDatasetIndex = findNextVisibleDataset(chart, datasetIndex, index);\n\n    updateActivePoint(chart, newDatasetIndex, 0);\n  } else if (index < currentDataset.data.length - 1) {\n    updateActivePoint(chart, datasetIndex, index + 1);\n  } else if (datasetLength > 1 && datasetIndex < datasetLength - 1) {\n    updateActivePoint(chart, datasetIndex + 1, 0);\n  } else {\n    updateActivePoint(chart, datasetIndex, 0);\n  }\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex\n * @param {Number} index\n * @param {Object} currentDataset\n * @param {Number} datasetLength\n */\nexport const handleLeftKey = (\n  chart,\n  datasetIndex,\n  index,\n  currentDataset,\n  datasetLength\n) => {\n  if (!chart.isDatasetVisible(datasetIndex)) {\n    const newDatasetIndex = findPrevVisibleDataset(chart, datasetIndex);\n    const newDataset = chart.config.data.datasets[newDatasetIndex];\n\n    updateActivePoint(chart, newDatasetIndex, newDataset.data.length - 1);\n  } else if (index === 0 && datasetIndex === 0) {\n    updateActivePoint(chart, datasetLength - 1, currentDataset.data.length - 1);\n  } else if (index === 0 && !chart.isDatasetVisible(datasetIndex - 1)) {\n    const newDatasetIndex = findPrevVisibleDataset(chart, datasetIndex);\n    const newDataset = chart.config.data.datasets[newDatasetIndex];\n\n    updateActivePoint(chart, newDatasetIndex, newDataset.data.length - 1);\n  } else if (index > 0) {\n    updateActivePoint(chart, datasetIndex, index - 1);\n  } else if (datasetLength > 1 && datasetIndex > 0) {\n    const newDataset = chart.config.data.datasets[datasetIndex - 1];\n\n    updateActivePoint(chart, datasetIndex - 1, newDataset.data.length - 1);\n  } else {\n    updateActivePoint(chart, datasetIndex, currentDataset.data.length - 1);\n  }\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex\n * @param {Number} index\n */\nexport const handleUpKey = (chart, datasetIndex, index) => {\n  const newDatasetIndex = findPrevVisibleDataset(chart, datasetIndex);\n\n  updateActivePoint(chart, newDatasetIndex, index);\n};\n\n/**\n * @param {Object} chart\n * @param {Number} datasetIndex\n * @param {Number} index\n */\nexport const handleDownKey = (chart, datasetIndex, index) => {\n  const newDatasetIndex = findNextVisibleDataset(chart, datasetIndex);\n\n  updateActivePoint(chart, newDatasetIndex, index);\n};\n","/**\n * @description creates hidden text element for screen reader\n */\nexport const createA11yElement = () => {\n  const a11yElement = document.createElement('div');\n  a11yElement.setAttribute('id', 'chartjs-a11y-label');\n  // remove from tab order as we only want user to access this via the chart element\n  a11yElement.setAttribute('tabindex', '-1');\n  a11yElement.setAttribute('role', 'status');\n  a11yElement.style.cssText =\n    'position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;';\n  document.body.appendChild(a11yElement);\n};\n\n/**\n * @description sets up plugin\n * @param {Object} chart\n * @param {Object} options\n */\nexport const setup = (chart, options) => {\n  const {canvas} = chart;\n  // application is a generic role for an interactive UI component\n  canvas.setAttribute('role', 'application');\n  // make canvas tabbable\n  canvas.setAttribute('tabindex', '0');\n  // set default AT label\n  canvas.setAttribute(\n    'aria-label',\n    options.chartLabel || `${chart.config._config.type} chart`\n  );\n  canvas.setAttribute('aria-describedby', 'chartjs-a11y-label');\n\n  canvas.addEventListener('keydown', (event) => {\n    const {key} = event;\n\n    if (\n      key === 'ArrowLeft' ||\n      key === 'ArrowRight' ||\n      key === 'ArrowUp' ||\n      key === 'ArrowDown'\n    ) {\n      event.preventDefault();\n    }\n  });\n\n  if (!document.getElementById('chartjs-a11y-label')) {\n    createA11yElement();\n  }\n};\n","import state from './state';\nimport {updateActivePoint} from './handlers';\nimport {\n  handleLeftKey,\n  handleRightKey,\n  handleUpKey,\n  handleDownKey,\n} from './handlers';\n\n/**\n * @description sets active point when chart receives focus\n * @param {Object} chart\n */\nexport const onFocus = (chart) => {\n  if (!state.get()) {\n    const datasetIndex = 0;\n    const index = 0;\n\n    state.set({datasetIndex, index});\n    updateActivePoint(chart, datasetIndex, index);\n  }\n};\n\n/**\n * @description controls key up events\n * @param {KeyboardEvent} event keyup\n * @param {Object} chart\n */\nexport const onKeyDown = (event, chart) => {\n  const {key} = event.native;\n  const {datasetIndex, index} = state.get();\n  const currentDataset = chart.config._config.data.datasets[datasetIndex];\n  const datasetLength = chart.config._config.data.datasets.length;\n\n  if (key === 'ArrowRight') {\n    handleRightKey(chart, datasetIndex, index, currentDataset, datasetLength);\n  } else if (key === 'ArrowLeft') {\n    handleLeftKey(chart, datasetIndex, index, currentDataset, datasetLength);\n  } else if (key === 'ArrowUp') {\n    handleUpKey(chart, datasetIndex, index, currentDataset, datasetLength);\n  } else if (key === 'ArrowDown') {\n    handleDownKey(chart, datasetIndex, index, currentDataset, datasetLength);\n  }\n};\n","import {handleActivePoint, updateA11yLabel} from './handlers';\nimport {setup} from './setup';\nimport {onKeyDown, onFocus} from './listeners';\n\nexport default {\n  id: 'chartjsPluginA11y',\n  start: (chart, args, options) => {\n    // add event listeners\n    chart.canvas.addEventListener('focus', () => onFocus(chart));\n    // setup required elements\n    setup(chart, options);\n  },\n  beforeInit: (chart) => {\n    const requiredEvents = [\n      'keydown',\n      'mousemove',\n      'mouseenter',\n      'mouseout',\n      'click',\n    ];\n\n    if (chart.config.options.events) {\n      chart.config.options.events = [\n        ...new Set([...chart.config.options.events, ...requiredEvents]),\n      ];\n    } else {\n      chart.config.options.events = [...requiredEvents];\n    }\n  },\n  beforeEvent: (chart, args, options) => {\n    const {event} = args;\n\n    if (event.type === 'keydown') {\n      onKeyDown(event, chart);\n    } else {\n      // get the current active chart point\n      const activePoint = chart.getElementsAtEventForMode(\n        event,\n        'index',\n        {intersect: true},\n        true\n      )[0];\n\n      handleActivePoint(activePoint);\n    }\n\n    updateA11yLabel(chart, options);\n  },\n};\n"],"names":[],"mappings":"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"}